<div class="d-flex">
    <app-sidebar></app-sidebar>
    <main class="content flex-grow-1 d-flex flex-column">
      <app-navbar></app-navbar>
      
      <div class="container-fluid p-3 flex-grow-1">
        <div class="card shadow-sm border-0 h-100">
          <div class="card-body p-4 d-flex flex-column">
            <form #editForm="ngForm" (ngSubmit)="onSubmit()" class="d-flex flex-column flex-grow-1">
              <div class="d-flex flex-column flex-lg-row flex-grow-1 gap-4">
                <!-- Image Column -->
                <div class="d-flex flex-column" style="flex: 1; max-width: 400px;">
                  <div class="image-container text-center d-flex flex-column flex-grow-1">
                    <h5 class="fw-bold mb-3">Product Image</h5>
                    <div class="d-flex flex-column align-items-center gap-3 flex-grow-1">
                      <div class="position-relative w-100" style="flex: 1;">
                        <img src="assets/images/product1.png" class="img-fluid rounded border h-100 w-100 object-fit-contain" alt="Product Image">
                      </div>
                      <button type="button" class="btn btn-outline-dark w-75">
                        <fa-icon [icon]="faUpload" class="me-2"></fa-icon>Upload Image
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Form Column -->
                <div class="d-flex flex-column" style="flex: 2;">
                  <div class="d-flex flex-column gap-3 flex-grow-1">
                    <input type="hidden" name="id" [(ngModel)]="product.productId">
                    
                    <!-- Product Name -->
                    <div class="form-floating">
                      <input type="text" class="form-control" id="productName" name="name" 
                             placeholder="Product Name" [(ngModel)]="product.name" required>
                      <label for="productName">Product Name</label>
                    </div>

                    <!-- Product Description -->
                    <div class="form-floating flex-grow-1">
                      <textarea class="form-control h-100" id="productDescription" name="description" 
                                placeholder="Description" [(ngModel)]="product.description"></textarea>
                      <label for="productDescription">Description</label>
                    </div>

                    <div class="d-flex flex-column flex-md-row gap-3">
                      <!-- Price -->
                      <div class="input-group flex-grow-1">
                        <span class="input-group-text bg-light border-end-0"><fa-icon [icon]="faDollarSign"></fa-icon></span>
                        <div class="form-floating flex-grow-1">
                          <input type="number" class="form-control border-start-0 no-spinner" id="productPrice" 
                                 name="price" placeholder="Price" [(ngModel)]="product.price" required>
                          <label for="productPrice">Price</label>
                        </div>
                      </div>

                      <!-- Stock -->
                      <div class="input-group flex-grow-1">
                        <span class="input-group-text bg-light border-end-0"><fa-icon [icon]="faBox"></fa-icon></span>
                        <div class="form-floating flex-grow-1">
                          <input type="number" class="form-control border-start-0 no-spinner" id="productStock" 
                                 name="stock" placeholder="Stock Quantity" [(ngModel)]="product.stockQuantity">
                          <label for="productStock">Stock Quantity</label>
                        </div>
                      </div>
                    </div>

                    <!-- Category -->
                    <div class="input-group">
                      <span class="input-group-text bg-light border-end-0"><fa-icon [icon]="faTag"></fa-icon></span>
                      <div class="form-floating flex-grow-1">
                        <input type="text" class="form-control border-start-0" id="productCategory" 
                               name="category" placeholder="Category" [(ngModel)]="product.categoryName">
                        <label for="productCategory">Category</label>
                      </div>
                    </div>

                    <!-- Form Buttons -->
                    <div class="d-flex justify-content-end gap-3 mt-auto pt-4">
                      <button type="reset" class="btn btn-outline-danger px-4">
                        <fa-icon [icon]="faTimes" class="me-2"></fa-icon>Cancel
                      </button>
                      <button type="submit" class="btn btn-primary px-4" [disabled]="!editForm.valid">
                        <fa-icon [icon]="faSave" class="me-2"></fa-icon>Update Product
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </main>
  </div>