<div class="d-flex">
  <app-sidebar></app-sidebar>
  <main class="content flex-grow-1">
    <app-navbar></app-navbar>
    <div class="row d-flex justify-content-start gap-0">
      <div class="dashboard-container">
        <h3 class="mb-3">Analytics Dashboard</h3>

        <!-- Summary Cards Row -->
        <div class="summary-cards d-flex justify-content-between gap-4">
          <!-- Revenue Card -->
          <div class="summary-card d-flex flex-row">
            <div class="card-content">
              <div class="card-title">Revenue</div>
              <div class="card-value">${{ salesSummary.revenue }}</div>
              <div class="card-change positive-growth">↑ 12.4%</div>
            </div>
            <div
              class="card-icon d-flex align-items-center justify-content-center"
            >
              <i class="fas fa-dollar-sign"></i>
            </div>
          </div>

          <!-- Orders Card -->
          <div class="summary-card d-flex flex-row">
            <div class="card-content">
              <div class="card-title">Orders</div>
              <div class="card-value">{{ salesSummary.orders }}</div>
              <div class="card-change positive-growth">↑ 8.7%</div>
            </div>
            <div
              class="card-icon d-flex align-items-center justify-content-center"
            >
              <i class="fas fa-box-open"></i>
            </div>
          </div>

          <!-- Avg. Order Value Card -->
          <div class="summary-card d-flex flex-row">
            <div class="card-content">
              <div class="card-title">Avg. Order Value</div>
              <div class="card-value">${{ salesSummary.avgOrderValue }}</div>
              <div class="card-change positive-growth">↑ 3.2%</div>
            </div>
            <div
              class="card-icon d-flex align-items-center justify-content-center"
            >
              <i class="fas fa-dollar-sign"></i>
              <!-- Dollar icon for avg order value -->
            </div>
          </div>

          <!-- Conversion Rate Card -->
          <div class="summary-card d-flex flex-row">
            <div class="card-content">
              <div class="card-title">Conversion Rate</div>
              <div class="card-value">{{ salesSummary.conversionRate }}%</div>
              <div class="card-change negative-growth">↓ 0.5%</div>
            </div>
            <div
              class="card-icon d-flex align-items-center justify-content-center"
            >
              <i class="fas fa-percentage"></i>
              <!-- Percentage icon for conversion rate -->
            </div>
          </div>
        </div>

        <!-- Top Products Table -->
        <div class="products-card my-3">
          <div class="card-header">
            <h3 class="card-title">Top Selling Products</h3>
          </div>
          <div class="card-content">
            <table class="products-table">
              <thead>
                <tr>
                  <th>Image</th>
                  <th>Product</th>
                  <th class="text-center">Units Sold</th>
                  <th>Revenue</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let product of topProducts">
                  <td>
                    <img
                      src="assets/images/product1.png"
                      class="product-image"
                      alt="{{ product.name }}"
                    />
                  </td>
                  <td>{{ product.name }}</td>
                  <td class="text-center">20</td>
                  <td>${{ product.price }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Charts Row -->
        <div class="charts-container d-flex flex-column gap-1">
          <div class="chart-card">
            <div class="card-header">
              <h3 class="card-title">Revenue Trend</h3>
            </div>
            <div class="card-content">
              <canvas class="py-4" id="revenueChart"></canvas>
            </div>
          </div>

          <div class="chart-card col-4">
            <div class="card-header">
              <h3 class="card-title">Sales by Category</h3>
            </div>
            <div class="card-content">
              <canvas id="categoryChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
