<div class="dashboard">
  <app-sidebar class="sidebar"></app-sidebar>
  <main class="content">
    <app-navbar></app-navbar>
    <div class="dashboard-container">
      <!-- Header -->
      <div class="dashboard-header">
        <h2>Analytics Dashboard</h2>
        <p>Track and analyze your business performance</p>
      </div>
    
      <!-- Summary Cards -->
      <div class="summary-grid">
        <div class="summary-card">
          <div class="card-icon revenue">
            <i class="fas fa-dollar-sign"></i>
          </div>
          <div>
            <p>Total Revenue</p>
            <h3>${{ salesSummary.revenue | number:'1.0-0' }}</h3>
            <span class="growth" [ngClass]="{'positive': salesSummary.revenueGrowth >= 0, 'negative': salesSummary.revenueGrowth < 0}">
              {{ salesSummary.revenueGrowth >= 0 ? '+' : '' }}{{ salesSummary.revenueGrowth }}%
            </span>
          </div>
        </div>
    
        <div class="summary-card">
          <div class="card-icon orders">
            <i class="fas fa-shopping-cart"></i>
          </div>
          <div>
            <p>Total Orders</p>
            <h3>{{ salesSummary.orders | number:'1.0-0' }}</h3>
            <span class="growth" [ngClass]="{'positive': salesSummary.orderGrowth >= 0, 'negative': salesSummary.orderGrowth < 0}">
              {{ salesSummary.orderGrowth >= 0 ? '+' : '' }}{{ salesSummary.orderGrowth }}%
            </span>
          </div>
        </div>
    
        <div class="summary-card">
          <div class="card-icon aov">
            <i class="fas fa-chart-line"></i>
          </div>
          <div>
            <p>Avg. Order Value</p>
            <h3>${{ salesSummary.avgOrderValue | number:'1.0-2' }}</h3>
            <span class="growth" [ngClass]="{'positive': salesSummary.avgOrderValueGrowth >= 0, 'negative': salesSummary.avgOrderValueGrowth < 0}">
              {{ salesSummary.avgOrderValueGrowth >= 0 ? '+' : '' }}{{ salesSummary.avgOrderValueGrowth }}%
            </span>
          </div>
        </div>
    
        <div class="summary-card">
          <div class="card-icon conversion">
            <i class="fas fa-percent"></i>
          </div>
          <div>
            <p>Conversion Rate</p>
            <h3>{{ salesSummary.conversionRate }}%</h3>
            <span class="growth" [ngClass]="{'positive': salesSummary.conversionRateGrowth >= 0, 'negative': salesSummary.conversionRateGrowth < 0}">
              {{ salesSummary.conversionRateGrowth >= 0 ? '+' : '' }}{{ salesSummary.conversionRateGrowth }}%
            </span>
          </div>
        </div>
      </div>
    
      <!-- Charts Section -->
      <div class="charts-grid">
        <div class="chart-container">
          <div class="chart-header">
            <h3>Revenue Overview</h3>
            <div class="chart-controls">
              <button [class.active]="chartPeriod === 'day'" (click)="setChartPeriod('day')">Day</button>
              <button [class.active]="chartPeriod === 'week'" (click)="setChartPeriod('week')">Week</button>
              <button [class.active]="chartPeriod === 'month'" (click)="setChartPeriod('month')">Month</button>
            </div>
          </div>
          <canvas id="revenueChart"></canvas>
        </div>
    
        <div class="chart-container">
          <div class="chart-header">
            <h3>Sales by Category</h3>
          </div>
          <canvas id="categoryChart"></canvas>
        </div>
      </div>
    
      <!-- Customer Insights -->
      <div class="insights-section">
        <h3>Customer Insights</h3>
        <div class="insights-grid">
          <div class="insight-card">
            <h4>New Customers</h4>
            <p class="value">{{ customerInsights.newCustomers | number:'1.0-0' }}</p>
            <span class="growth" [ngClass]="{'positive': customerInsights.newCustomerGrowth >= 0, 'negative': customerInsights.newCustomerGrowth < 0}">
              {{ customerInsights.newCustomerGrowth >= 0 ? '+' : '' }}{{ customerInsights.newCustomerGrowth }}%
            </span>
          </div>
        
          <div class="insight-card">
            <h4>Repeat Customers</h4>
            <p class="value">{{ customerInsights.repeatCustomers | number:'1.0-0' }}</p>
            <span class="growth" [ngClass]="{'positive': customerInsights.repeatCustomerGrowth >= 0, 'negative': customerInsights.repeatCustomerGrowth < 0}">
              {{ customerInsights.repeatCustomerGrowth >= 0 ? '+' : '' }}{{ customerInsights.repeatCustomerGrowth }}%
            </span>
          </div>
        
          <div class="insight-card">
            <h4>Avg. Customer Value</h4>
            <p class="value">${{ customerInsights.avgCustomerValue | number:'1.0-2' }}</p>
            <span class="growth" [ngClass]="{'positive': customerInsights.avgCustomerValueGrowth >= 0, 'negative': customerInsights.avgCustomerValueGrowth < 0}">
              {{ customerInsights.avgCustomerValueGrowth >= 0 ? '+' : '' }}{{ customerInsights.avgCustomerValueGrowth }}%
            </span>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>